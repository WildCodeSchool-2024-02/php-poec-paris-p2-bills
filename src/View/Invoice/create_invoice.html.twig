{% extends 'layout.html.twig' %}

{% block links %}

{% endblock %}

{% block scripts %}
    <script rel="script" src="/assets/script/script.js" defer></script>
{% endblock %}

{% block subtitle %}
    Formulaire de création
{% endblock %}

{% block content %}

    {{(errors.0)}}

    <form action="" method="post">
        <div>
            <label for="created_at">Date de Facture</label>
            <input type="date" name="created_at" id="created_at" value="{{ "now"|date("Y-m-d") }}" required>
        </div>

        <div>
            <label for="due_at">Date d'échéance</label>
            <input type="date" name="due_at" id="due_at" value="{{ "now"|date_modify("+60 day")|date("Y-m-d") }}" required>
        </div>

        <fieldset>
            <legend>Vos Informations</legend>
            <input type="text" name="user_siret" id="user_siret" placeholder="Numéro de Siret" maxlength="14" pattern="[0-9]{14}" title="Le numéro de Siret doit comporter 14 chiffres" required>
            <input type="text" name="user_name" id="user_name" placeholder="Nom complet" maxlength="255" pattern="[A-Za-zÀ-ÿ '-]" title="Le nom complet ne doit contenir que des lettres, des espaces et des tirets" required>
            <input type="text" name="user_address" id="user_address" placeholder="Adresse postale" maxlength="255" pattern="[A-Za-zÀ-ÿ '-]" required>
        </fieldset>

        <fieldset>
            <legend>Informations Client</legend>
            <input type="text" name="client_siret" id="client_siret" placeholder="Numéro de Siret" maxlength="14" pattern="[0-9]{14}" title="Le numéro de Siret doit contenir 14 chiffres">
            <input type="text" name="client_name" id="client_name" placeholder="Nom complet" maxlength="255" pattern="[A-Za-zÀ-ÿ '-]" title="Le nom complet ne doit contenir que des lettres, des espaces et des tirets">
            <input type="text" name="client_address" id="client_address" placeholder="Addresse postale" maxlength="255" pattern="[A-Za-zÀ-ÿ '-]">
        </fieldset>

        <fieldset>
            <legend>Produit ou Service</legend>
            <div id="product-container">
                <div class="product-line">
                    <input type="text" name="product_name_1" placeholder="Désignation du produit ou service" maxlength="100" pattern="[A-Za-zÀ-ÿ0-9 '-]" required>
                    <input type="text" name="product_price_1" placeholder="Prix unitaire" maxlength="10" pattern="[1-9]+([,\.][0-9]{1,2})?" required>
                    <input type="text" name="product_quantity_1" placeholder="Quantité" maxlength="5" pattern="[1-9]+([,\.][0-9]{1,2})?" required>
                    <input type="text" name="product_total_1" placeholder="Total" maxlength="10" pattern="[1-9]+([,\.][0-9]{1,2})?" required readonly>
                    <button type="button" class="remove-item">Supprimer article</button>
                </div>
            </div>

            <div>
                <button type="button" id="add-item">Ajouter Article</button>
            </div>

            <input type="text" name="total_amount" id="total_amount" placeholder="Montant Total" required readonly>
        </fieldset>

        <fieldset>
            <legend>Informations Bancaires</legend>
            <input type="text" name="user_bank_details" id="user_bank_details" placeholder="Indiquer Votre IBAN" maxlength="34" pattern="[A-Z]{2}\d{2}[A-Z0-9]" title="Veuillez entrer un IBAN valide">
        </fieldset>

        <button type="submit">Valider</button>
        <button type="reset">Annuler</button>
    </form>
{% endblock %}
